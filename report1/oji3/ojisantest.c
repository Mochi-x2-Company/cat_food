//====================================================================
//  工学部「情報算法２」(富永)  例題
//  多倍長整数の計算  入出力と計算実行
//--------------------------------------------------------------------
//  BigNum  Test.c
//  ソース
//  Windows MinGW GCC 5.3.0
//--------------------------------------------------------------------
//  Marron Akanishi
//  2018.06.12  v1.0
//====================================================================


//====================================================================
//  前処理
//====================================================================

//--------------------------------------------------------------------
//  ヘッダ指定
//--------------------------------------------------------------------

#include <stdio.h>
#include <stdlib.h>
#include "BigNumLib.h"    // 多倍長整数ユーザ関数

#ifndef OPT
#define OPT 0
#endif
//ここを変えれば関数が変わります
#define DIVFUNC bignum_div ## 3


//====================================================================
//  大域宣言
//====================================================================

//--------------------------------------------------------------------
//  関数宣言
//--------------------------------------------------------------------


//====================================================================
//  本体処理
//====================================================================
int main(int argc,string*argv) 
{
    //----  局所宣言
    BigNum r1, r2;        // 加減乗算や累乗の結果変数
    BigNum n1, n2;    // 入力変数
    int e;            // 累乗の指数
    Bool flag;        // 結果の吟味
    int sw = OPT;
    int rc = 1;

    //----  入力処理
    // 第1項の入力
    if(argc>=2){
        bignum_input_string(&n1,argv[rc++]);
    }else{
        bignum_input(&n1);
    }
    // 第2項の入力
    if(argc>=3){
        bignum_input_string(&n2,argv[rc++]);
    }else{
        bignum_input(&n2);
    }

    //bignum_output(n1);
    //bignum_output(n2);

    //----  計算処理
    flag = DIVFUNC(n1,n2,&r1,&r2);
    //----  出力処理

    if(flag){
        bignum_output(r1);    // 整商の出力
        bignum_output(r2);
    }else{
        puts("Error");
    }

    //----  終了処理
    return 0;
}

